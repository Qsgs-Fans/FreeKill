.. SPDX-License-Identifier: GFDL-1.3-or-later

所有的预定义函数
================

fkparse提供了一些内置函数供您使用。

随机数
------

函数名称：\ ``'生成随机数'``

功能：生成一个范围为[下界，上界]的随机数。

参数：

-  ``'上界'``\ ：数字类型，默认为10

-  ``'下界'``\ ：数字类型，默认为1

返回：数字类型

提示信息
--------

函数名称：\ ``'创建提示信息'``

功能：根据给定的各种参数，构造一个提示信息。

参数：

-  ``'文本'``\ ：字符串类型，无默认值

-  ``'玩家1'``\ ：玩家类型，默认为空

-  ``'玩家2'``\ ：玩家类型，默认为空

-  ``'变量1'``\ ：数字类型或者字符串类型，默认为空

-  ``'变量2'``\ ：数字类型或者字符串类型，默认为空

返回：字符串类型

| 说明：
| 在这个函数中，提示信息的主体由\ ``'文本'``\ 决定。在\ ``'文本'``\ 中，可以通过如下方式向文本中引入变量：

-  ``%src``: 对应着参数\ ``'玩家1'``\ ，它会被替换为对应玩家的武将名称

-  ``%dest``: 对应着参数\ ``'玩家2'``\ ，它会被替换为对应玩家的武将名称

-  ``%arg``: 对应着参数\ ``'变量1'``\ ，被替换为对应的值

-  ``%arg2``: 对应着参数\ ``'变量2'``\ ，被替换为对应的值

卡牌规则
--------

函数名称：\ ``'创建卡牌规则'``

功能：根据给定的各种参数，构造一个能判定卡牌是否符合类型的字符串。

参数：

-  ``'牌名表'``\ ：保存着所有可行牌名的列表，默认为所有牌名

-  ``'花色表'``\ ：保存着所有可行花色的列表，默认为所有牌名

-  ``'点数表'``\ ：保存着所有可行点数的列表，默认为所有牌名

返回：字符串类型

虚拟牌
------

函数名称：\ ``'创建虚拟牌'``

功能：根据给定的各种参数，构造一张虚拟牌。注意这边“虚拟牌”和规则集说的“虚拟牌”不是一个东西。

参数：

-  ``'点数'``\ ：数字类型，保存着虚拟牌的点数，默认由游戏自行判断，一般可不填

-  ``'花色'``\ ：字符串类型，虚拟牌的花色，默认由游戏自行判断，一般可不填

-  ``'牌名'``\ ：字符串类型，即虚拟牌的牌名，默认为普通杀

-  ``'子卡牌'``\ ：卡牌数组类型，保存着虚拟牌的子卡牌（即其对应的实体卡），默认为空

-  ``'技能名'``\ ：字符串类型，表示创建该虚拟牌的技能名，默认为当前技能的名字

| 说明：
| 太阳神三国杀“自行判断”花色和点数的行为可能与规则集有所出入，特于此说明。

-  虚拟牌的颜色取决于所有子卡牌的颜色，只要子卡牌的颜色都相同，那么虚拟牌也是那个颜色。否则虚拟牌的颜色为无色。除非子卡牌刚好只有一张，虚拟牌都是没有花色的。

-  虚拟牌的点数为所有子卡牌点数之和（最大为K），若没有子卡牌则没有点数。

返回：卡牌类型

移动卡牌
--------

函数名称：\ ``'创建卡牌移动信息'``

功能：根据给定的参数，构造一个卡牌移动信息

参数：

-  ``'卡牌列表'``\ ：卡牌数组类型，本次要被移动的所有卡牌。无默认值

-  ``'移动目标区域'``\ ：卡牌将要被移动到的区域。无默认值

-  ``'移动目标角色'``\ ：卡牌将要被移动到的玩家。默认为不存在，但如果确实有目标玩家的话必须手动指定

-  ``'移牌原因'``\ ：移牌的原因，默认为“获得牌”

-  ``'技能名'``\ ：字符串类型，表示移动本牌的技能名，默认为当前技能的名字

-  ``'公开'``\ ：布尔类型，本次移动卡牌是否对所有人公开（正面朝上）。默认为公开

| 返回：移牌信息
| 函数名称：\ ``'移动卡牌'``

功能：同时对参数表中给出的所有移牌信息执行实际的移动。

参数：

-  ``'移牌信息列表'``\ ：移牌信息的数组，里面是需要同时移动的所有移动信息。无默认值
