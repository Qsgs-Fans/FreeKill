# ChangeLog

___

## v0.1.0

标准包终于完结！版本号也随机升了一位

主要新机制：

1. 主公技
2. 护甲机制
3. AES加密通信

新机制：

1. 添加武将相关技能
2. 添加武将中性和无性
3. 给Card堆一个伤害牌属性
4. 能添加虚拟牌为子卡
5. 封装了“视为使用xx牌”的函数
6. 护甲机制
7. interaction现在可以作为一个函数，以实现动态化
8. 冰属性伤害
9. 使用牌堆中的牌不再报错

修bug：

1. 修流离锁定技
2. 修斧子弃自己
3. 修顺手空城卡死
4. 修旁观者id是自己的
5. 修旁观者再开新局就闪退（或许吧）
6. 修拼点报nil
7. 修询问无懈时旁观者被卡在外面
8. 修Room的请求队列不清理干净

___

## v0.0.8

1. 禁止使用打出弃置
2. 为FilterSkill加player参数
3. 对局中可查看他人技能
4. GameEvent相关设施
5. 添加时机或事件：轮次
6. 以-round等方式结尾的标记会被自动清理，详见源码
7. 增加了NixOS用的构建脚本

修bug：

1. 流离bug
2. 觉醒技显示方式反过来
3. 询问无懈时100% CPU占用
4. skill.interaction无效
5. 装备从自己装备区移动到别人
6. 觉醒技cost和锁定技不一样
7. 狮子给死人加血
8. 拖曳体验差
9. 暂时禁用旁观功能，bug太多
10. 【杀】的distance_limit_func无效bug

___

## v0.0.7

1. 文档已经上线，内容应该是很多的，就是没写完
2. 重新设计了Card.skillName，并给各种cloneCard补上了skillName（仅限于FK核心涉及的）
3. 给好几个交互加个cancelable/prompt参数，把prompt美化了一下
4. 为老周泰做了一些耦合
5. 点击私人牌堆的名字可以弹出牌数量了，而不是一堆数字
6. 主动技/视为技能借助额外的UI交互以提前收集更多数据，可用于泛转化
7. 限定技/觉醒技在Photo上显示的UI
8. 修复了kingdom属性没有被实际赋值的bug
9. 移动了equipIcon的素材位置
10. 移动力kingdom相关素材的位置，现在可以在mod中自订势力
11. 大厅内显示在线人数，大厅内聊天
12. 心跳包机制，防掉线和卡在服务器
13. 服务端shell现在可以踢人

___

## v0.0.6

1. 修bug
2. 增加个更多展示移动牌的log
3. 同名武将替换
4. UI更新
5. 补全所有卡牌

___

## v0.0.5

1. 五谷丰登和酒
2. 开房可自选游戏模式，可拓展游戏模式
3. 开房可自选开启的拓展包
4. 安全性加强
5. 支持拼点
6. 修bug

___

## v0.0.4

Tag: v0.0.4

1. 制作了军争包大部分卡牌
2. 在计算完md5后立刻删除flist.txt
3. 修bug
4. 将摸初始牌和执行回合计入事件中
5. 允许使用-DFK_SERVER_ONLY宏来编译不含GUI支持的版本
6. 避免每次启动都复制资源文件

___

## v0.0.3

Tag: v0.0.3

大改动：

1. 重写事件体系，参考[doc/dev/gameevent.md](./doc/dev/gameevent.md)
2. 增加私人牌堆交互功能，可以写出像邓艾这样的武将了
3. 增加了五谷选牌框，但未实装
4. 八卦阵和“无双”
5. 添加了询问同时选择一名玩家多张牌的交互

小改动：

1. 修复选牌框bug
2. Android版的应用数据从内部存储转移到外部存储
3. Win版exe现在有图标了

___

## v0.0.2

Tag: v0.0.2

较大变动：

1. 添加了更多文档，包括DIY的基本文档
2. 完成了大多数装备，除了八卦阵、青釭剑
3. 完成了标准包技能：离间,流离
4. 添加了对玩家私人牌堆的支持
5. 修复了Libgit2相关的bug，从此拓展包同步更加正确快捷
6. 添加了在拓展包中通过QML任意指定交互方式的办法
7. 重构了ActiveSkill中和feasible有关的部分，不过旧版风格的直接指定feasible函数仍然有效
8. AI框架完工，初步制作了随机型AI（哪里亮了点哪）
9. 初步支持国际化，将一些东西翻译成了英文

小变动：

1. 编译安卓时，不再把rsa密钥也打包进去
2. 不让lua服务端进入死循环，当等待时间充足时睡眠10ms
3. 将lua/vscode更名为lua/lsp，并针对类的静态函数加入了补全信息
4. 将检测房间是否没有活人的环节移动到AI处理事项之前
5. 装修了一下README
6. 修一堆bug
